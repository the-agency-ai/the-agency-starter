#!/bin/bash
# Get current agent name
#
# Usage: ./tools/agentname
#
# Why this exists:
#   - Provides agent identity (separate from workstream)
#   - Supports one-to-many workstream mapping (agents â†’ agent-manager + agent-client)
#   - Used for agent-specific state (backups, logs, etc.)
#

# Source log helper for telemetry
SCRIPT_DIR="${SCRIPT_DIR:-$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)}"
if [[ -f "$SCRIPT_DIR/_log-helper" ]]; then
    source "$SCRIPT_DIR/_log-helper"
fi
RUN_ID=$(log_start "agentname" "agency-tool" "$@" 2>/dev/null) || true
# Returns: agent name from $AGENTNAME environment variable, or 'unknown'


# Tool version
TOOL_VERSION="1.0.0-20260109-000001"

# Version check
if [[ "${1:-}" == "--version" || "${1:-}" == "-v" ]]; then
    echo "agentname $TOOL_VERSION"
    exit 0
fi

echo "${AGENTNAME:-unknown}"
